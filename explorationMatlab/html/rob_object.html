
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN">
<html xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <!--
This HTML is auto-generated from an M-file.
To make changes, update the M-file and republish this document.
      -->
      <title>rob_object</title>
      <meta name="generator" content="MATLAB 7.4">
      <meta name="date" content="2007-10-03">
      <meta name="m-file" content="rob_object"><style>

body {
  background-color: white;
  margin:10px;
}

h1 {
  color: #990000; 
  font-size: x-large;
}

h2 {
  color: #990000;
  font-size: medium;
}

/* Make the text shrink to fit narrow windows, but not stretch too far in 
wide windows. */ 
p,h1,h2,div.content div {
  max-width: 600px;
  /* Hack for IE6 */
  width: auto !important; width: 600px;
}

pre.codeinput {
  background: #EEEEEE;
  padding: 10px;
}
@media print {
  pre.codeinput {word-wrap:break-word; width:100%;}
} 

span.keyword {color: #0000FF}
span.comment {color: #228B22}
span.string {color: #A020F0}
span.untermstring {color: #B20000}
span.syscmd {color: #B28C00}

pre.codeoutput {
  color: #666666;
  padding: 10px;
}

pre.error {
  color: red;
}

p.footer {
  text-align: right;
  font-size: xx-small;
  font-weight: lighter;
  font-style: italic;
  color: gray;
}

  </style></head>
   <body>
      <div class="content">
         <h1>rob_object</h1>
         <introduction>
            <p><b>Description:</b>  this sets up the robot object. The most important bit is the length of the links and the type of joints etc. then rest of
               it is for the prisms that describe the links and sections of the robot. Nothing needs to exist prior to this function, it
               is standalone
            </p>
         </introduction>
         <h2>Contents</h2>
         <div>
            <ul>
               <li><a href="#1">Function Call</a></li>
               <li><a href="#2">Most Important Robot setup</a></li>
               <li><a href="#3">Define the link limits</a></li>
               <li><a href="#4">Now setup the glyphs that go around the links</a></li>
               <li><a href="#5">Then shift glyphs</a></li>
               <li><a href="#6">Then change the colours for the glyphs</a></li>
               <li><a href="#7">Make the base glyph</a></li>
               <li><a href="#8">Specify the glyphs for each of the links</a></li>
            </ul>
         </div>
         <h2>Function Call<a name="1"></a></h2>
         <div>
            <ul>
               <li><b>Inputs:</b> Null
               </li>
               <li><b>Returns:</b> Null
               </li>
            </ul>
         </div><pre class="codeinput"><span class="keyword">function</span> r=rob_object()
</pre><h2>Most Important Robot setup<a name="2"></a></h2>
         <p>For each link specify</p><pre class="codeinput"><span class="comment">%alpha  ai ai 1     link twist angle (this affects the next section</span>
<span class="comment">%A      Ai Ai 1     link length</span>
<span class="comment">%theta  qi qi       link rotation angle</span>
<span class="comment">%D      Di Di       link offset distance</span>
<span class="comment">%sigma  si si       joint type; 0 for revolute "standard", non-zero for prismatic</span>
<span class="comment">%offset sets the starting angle possition, needs to be considered for ALL future links</span>

<span class="comment">%         [ alpha      A       theta   D       sigma   offset],   CONVENTION   %absolute   relative to previous link includes offset</span>

l1 = link([-1.5708,0.18,0,0.475,0,0],<span class="string">'standard'</span>);
l2 = link([0,0.385,0,0,0,-pi/2],<span class="string">'standard'</span>);
l3 = link([1.5708,-0.1,0,0,0,pi/2],<span class="string">'standard'</span>);
l4 = link([-1.5708,0,0,0.445,0,0],<span class="string">'standard'</span>);
l5 = link([1.5708,0,0,0,0,0],<span class="string">'standard'</span>);
l6 = link([0,0,0,0.084,0,0],<span class="string">'standard'</span>);
</pre><h2>Define the link limits<a name="3"></a></h2><pre class="codeinput">l1.qlim = [deg2rad(-170),deg2rad(170)];
l2.qlim = [deg2rad(-90),deg2rad(135)];
l3.qlim = [deg2rad(-80),deg2rad(165)];
l4.qlim = [deg2rad(-185),deg2rad(185)];
l5.qlim = [deg2rad(-120),deg2rad(120)];
l6.qlim = [deg2rad(-360),deg2rad(360)];
</pre><h2>Now setup the glyphs that go around the links<a name="4"></a></h2><pre class="codeinput">glyph1 = rectangularPrism(0.421,0.185,0.305);
glyph2 = rectangularPrism(0.57,0.195,0.146);
glyph3 = rectangularPrism(0.116,0.116,0.3579);
glyph4 = rectangularPrism(0.116,0.233,0.15);
glyph5 = rectangularPrism(0.114,0.13,0.084);
glyph6 = rectangularPrism(0.082,0.082,0.006);
</pre><h2>Then shift glyphs<a name="5"></a></h2><pre class="codeinput">glyph1 = shift(glyph1, [-0.18-0.15,0,-0.155]);
glyph2 = shift(glyph2, [-0.485,-0.0825,0.058]);
glyph3 = shift(glyph3, [-0.058,-0.058,-0.14591]);
glyph4 = shift(glyph4, [-0.058,0,-0.075]);
glyph5 = shift(glyph5, [-0.057,-0.065,0]);
glyph6 = shift(glyph6, [-0.041,-0.041,0]);
</pre><h2>Then change the colours for the glyphs<a name="6"></a></h2><pre class="codeinput">glyph1.color = [0           0     0.50196];
glyph2.color = [1  0  0];
glyph3.color = [0           0     0.50196];
glyph4.color = [0     0.50196           0];
glyph5.color = [0  0  0];
glyph6.color = [1     0.50196     0.25098];
<span class="comment">% glyph1.color = [0.50196];</span>
<span class="comment">% glyph2.color = [1];</span>
<span class="comment">% glyph3.color = [0.50196];</span>
<span class="comment">% glyph4.color = [0.50196];</span>
<span class="comment">% glyph5.color = [1];</span>
<span class="comment">% glyph6.color = [0.25098];</span>
</pre><h2>Make the base glyph<a name="7"></a></h2><pre class="codeinput">baseMountingGlyph  = rectangularPrism(0.305,0.305,0.29);
baseCablesGlyph  = rectangularPrism(0.073,0.192,0.18);

baseMountingGlyph  = shift(baseMountingGlyph,[-0.15,-0.155,0]);
baseCablesGlyph  = shift(baseCablesGlyph,  [-0.15-0.073,-0.096,0]);

<span class="comment">% baseMountingGlyph.color = [0,0,0.50196];</span>
<span class="comment">% baseCablesGlyph.color = [0,0,0.50196];</span>
baseMountingGlyph.color = [0.50196];
baseCablesGlyph.color = [0.50196];
</pre><h2>Specify the glyphs for each of the links<a name="8"></a></h2><pre class="codeinput">l1.glyph = glyph1;
lnk{1}=l1;

l2.glyph = glyph2;
lnk{2}=l2;

l3.glyph = glyph3;
lnk{3}=l3;

l4.glyph = glyph4;
lnk{4}=l4;

l5.glyph = glyph5;
lnk{5}=l5;

l6.glyph = glyph6;
lnk{6}=l6;

r=robot(lnk);
<span class="comment">% compositeGlyph sticks together different Rect prisms</span>
r.baseGlyph = compositeGlyph({baseMountingGlyph, baseCablesGlyph});
<span class="comment">% Give the robot a name</span>
r.name = <span class="string">'VMDArm'</span>;
<span class="comment">% Default: Use glyphs to draw robot, dont display the name</span>
r.plotopt = {<span class="string">'nojoints'</span>,<span class="string">'noshadow'</span>, <span class="string">'nowrist'</span>,<span class="string">'noname'</span>};
</pre><p class="footer"><br>
            Published with MATLAB&reg; 7.4<br></p>
      </div>
      <!--
##### SOURCE BEGIN #####
%% rob_object
%
% *Description:*  this sets up the robot object. The most important bit is the 
% length of the links and the type of joints etc. then rest of it is for
% the prisms that describe the links and sections of the robot. Nothing
% needs to exist prior to this function, it is standalone

%% Function Call
% 
% * *Inputs:* Null
% * *Returns:* Null

function r=rob_object()

%% Most Important Robot setup
% For each link specify
%alpha  ai ai 1     link twist angle (this affects the next section 
%A      Ai Ai 1     link length
%theta  qi qi       link rotation angle
%D      Di Di       link offset distance
%sigma  si si       joint type; 0 for revolute "standard", non-zero for prismatic
%offset sets the starting angle possition, needs to be considered for ALL future links

%         [ alpha      A       theta   D       sigma   offset],   CONVENTION   %absolute   relative to previous link includes offset

l1 = link([-1.5708,0.18,0,0.475,0,0],'standard');
l2 = link([0,0.385,0,0,0,-pi/2],'standard');
l3 = link([1.5708,-0.1,0,0,0,pi/2],'standard');
l4 = link([-1.5708,0,0,0.445,0,0],'standard');
l5 = link([1.5708,0,0,0,0,0],'standard');
l6 = link([0,0,0,0.084,0,0],'standard');

%% Define the link limits
l1.qlim = [deg2rad(-170),deg2rad(170)];
l2.qlim = [deg2rad(-90),deg2rad(135)];
l3.qlim = [deg2rad(-80),deg2rad(165)];
l4.qlim = [deg2rad(-185),deg2rad(185)];
l5.qlim = [deg2rad(-120),deg2rad(120)];
l6.qlim = [deg2rad(-360),deg2rad(360)];

%% Now setup the glyphs that go around the links
glyph1 = rectangularPrism(0.421,0.185,0.305);
glyph2 = rectangularPrism(0.57,0.195,0.146);
glyph3 = rectangularPrism(0.116,0.116,0.3579);
glyph4 = rectangularPrism(0.116,0.233,0.15);
glyph5 = rectangularPrism(0.114,0.13,0.084);
glyph6 = rectangularPrism(0.082,0.082,0.006);

%% Then shift glyphs
glyph1 = shift(glyph1, [-0.18-0.15,0,-0.155]);
glyph2 = shift(glyph2, [-0.485,-0.0825,0.058]);
glyph3 = shift(glyph3, [-0.058,-0.058,-0.14591]);
glyph4 = shift(glyph4, [-0.058,0,-0.075]);
glyph5 = shift(glyph5, [-0.057,-0.065,0]);
glyph6 = shift(glyph6, [-0.041,-0.041,0]);

%% Then change the colours for the glyphs 
glyph1.color = [0           0     0.50196];
glyph2.color = [1  0  0];
glyph3.color = [0           0     0.50196];
glyph4.color = [0     0.50196           0];
glyph5.color = [0  0  0];
glyph6.color = [1     0.50196     0.25098];
% glyph1.color = [0.50196];
% glyph2.color = [1];
% glyph3.color = [0.50196];
% glyph4.color = [0.50196];
% glyph5.color = [1];
% glyph6.color = [0.25098];

%% Make the base glyph
baseMountingGlyph  = rectangularPrism(0.305,0.305,0.29);
baseCablesGlyph  = rectangularPrism(0.073,0.192,0.18);

baseMountingGlyph  = shift(baseMountingGlyph,[-0.15,-0.155,0]);
baseCablesGlyph  = shift(baseCablesGlyph,  [-0.15-0.073,-0.096,0]);

% baseMountingGlyph.color = [0,0,0.50196];
% baseCablesGlyph.color = [0,0,0.50196];
baseMountingGlyph.color = [0.50196];
baseCablesGlyph.color = [0.50196];

%% Specify the glyphs for each of the links
l1.glyph = glyph1;
lnk{1}=l1;

l2.glyph = glyph2;
lnk{2}=l2;

l3.glyph = glyph3;
lnk{3}=l3;

l4.glyph = glyph4;
lnk{4}=l4;

l5.glyph = glyph5;
lnk{5}=l5;

l6.glyph = glyph6;
lnk{6}=l6;

r=robot(lnk);
% compositeGlyph sticks together different Rect prisms
r.baseGlyph = compositeGlyph({baseMountingGlyph, baseCablesGlyph});
% Give the robot a name
r.name = 'VMDArm';
% Default: Use glyphs to draw robot, dont display the name
r.plotopt = {'nojoints','noshadow', 'nowrist','noname'};
##### SOURCE END #####
-->
   </body>
</html>